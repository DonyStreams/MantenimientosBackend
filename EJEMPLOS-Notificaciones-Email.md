# ğŸ“§ Ejemplos de Correos de NotificaciÃ³n

Este documento muestra ejemplos visuales de los correos electrÃ³nicos que se envÃ­an automÃ¡ticamente.

---

## ğŸš¨ Ejemplo 1: NotificaciÃ³n de Ticket CrÃ­tico

**Asunto:** ğŸš¨ TICKET CRÃTICO #45 - EspectrofotÃ³metro UV-Visible

**Destinatarios:** admin@inacif.gob.gt, jefatura@inacif.gob.gt

**Contenido:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ğŸš¨ ALERTA DE TICKET CRÃTICO             â”‚
â”‚                                                     â”‚
â”‚  Se ha registrado un ticket con PRIORIDAD CRÃTICA  â”‚
â”‚            que requiere atenciÃ³n inmediata:         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Ticket ID: #45
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Equipo: EspectrofotÃ³metro UV-Visible
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

CÃ³digo INACIF: LAB-UV-001
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

UbicaciÃ³n: Laboratorio de QuÃ­mica - Edificio A, Piso 2
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Usuario Asignado: Juan PÃ©rez GonzÃ¡lez
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

DescripciÃ³n:
El equipo presenta error crÃ­tico en la calibraciÃ³n automÃ¡tica.
No se pueden realizar anÃ¡lisis. Se requiere revisiÃ³n urgente
del mÃ³dulo de lÃ¡mpara y sistema Ã³ptico.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Este es un mensaje automÃ¡tico del Sistema de 
Mantenimientos INACIF. Por favor, no responda 
a este correo.
```

---

## âš ï¸ Ejemplo 2: NotificaciÃ³n de Equipo en Estado CrÃ­tico

**Asunto:** âš ï¸ EQUIPO EN ESTADO CRÃTICO - CromatÃ³grafo de Gases (LAB-CG-003)

**Destinatarios:** admin@inacif.gob.gt, jefatura@inacif.gob.gt

**Contenido:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           âš ï¸ EQUIPO EN ESTADO CRÃTICO              â”‚
â”‚                                                     â”‚
â”‚   Un equipo ha cambiado a ESTADO CRÃTICO y        â”‚
â”‚            requiere revisiÃ³n urgente                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Equipo ID: #23
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Nombre: CromatÃ³grafo de Gases GC-2030
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

CÃ³digo INACIF: LAB-CG-003
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

UbicaciÃ³n: Laboratorio de ToxicologÃ­a - Edificio B, Piso 1
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Estado Anterior: Activo
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Estado Nuevo: CRÃTICO
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Motivo del cambio:
Estado cambiado de 'Activo' a 'CrÃ­tico' por 
MarÃ­a LÃ³pez RodrÃ­guez

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Este es un mensaje automÃ¡tico del Sistema de 
Mantenimientos INACIF. Por favor, no responda 
a este correo.
```

---

## ğŸ¨ Vista HTML Real

Los correos se envÃ­an en formato HTML con estilos profesionales:

### CaracterÃ­sticas visuales:
- **Encabezado con color de alerta** (rojo para tickets crÃ­ticos, naranja para equipos crÃ­ticos)
- **InformaciÃ³n organizada en filas** con etiquetas claras
- **TipografÃ­a legible** (Arial, sans-serif)
- **DiseÃ±o responsive** adaptable a dispositivos mÃ³viles
- **Colores institucionales** profesionales
- **Footer informativo** con descargo de responsabilidad

### Estructura HTML:
```html
<!DOCTYPE html>
<html>
<head>
    <meta charset='UTF-8'>
    <style>
        /* Estilos para un correo profesional */
        body { font-family: Arial, sans-serif; }
        .header { background: #dc3545; color: white; }
        .content { background: #f9f9f9; padding: 20px; }
        .critical { color: #dc3545; font-weight: bold; }
    </style>
</head>
<body>
    <!-- Contenido del correo -->
</body>
</html>
```

---

## ğŸ“‹ InformaciÃ³n Incluida en las Notificaciones

### NotificaciÃ³n de Ticket CrÃ­tico
âœ… ID del ticket  
âœ… Equipo afectado  
âœ… CÃ³digo INACIF  
âœ… UbicaciÃ³n fÃ­sica  
âœ… Usuario asignado  
âœ… DescripciÃ³n detallada del problema  

### NotificaciÃ³n de Equipo CrÃ­tico
âœ… ID del equipo  
âœ… Nombre del equipo  
âœ… CÃ³digo INACIF  
âœ… UbicaciÃ³n fÃ­sica  
âœ… Estado anterior  
âœ… Estado nuevo (CrÃ­tico)  
âœ… Motivo del cambio de estado  

---

## ğŸ”” Flujo de Notificaciones

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Usuario actualiza      â”‚
â”‚  Ticket a "CrÃ­tica"     â”‚
â”‚  o Equipo a "Critico"   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Sistema detecta el     â”‚
â”‚  cambio de estado       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EmailService consulta  â”‚
â”‚  informaciÃ³n completa   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Genera correo HTML     â”‚
â”‚  con template           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EnvÃ­a correo vÃ­a SMTP  â”‚
â”‚  a destinatarios        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Registra en logs       â”‚
â”‚  el resultado           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš¡ Tiempos de Entrega

Los correos se envÃ­an de forma **asÃ­ncrona** para no bloquear la operaciÃ³n del usuario:

- **DetecciÃ³n del cambio:** Inmediata (< 1 segundo)
- **GeneraciÃ³n del correo:** < 1 segundo
- **EnvÃ­o SMTP:** 2-5 segundos (depende del servidor)
- **RecepciÃ³n:** 1-30 segundos (depende del proveedor de correo)

**Tiempo total estimado:** Menos de 1 minuto desde el cambio hasta la recepciÃ³n.

---

## ğŸ“Š Casos de Uso

### Caso 1: Falla CrÃ­tica en Equipo de AnÃ¡lisis
```
1. TÃ©cnico detecta falla grave en equipo
2. Crea ticket con prioridad "CrÃ­tica"
3. Sistema envÃ­a correo a admin y jefatura
4. Jefatura recibe alerta en su telÃ©fono
5. Se coordina atenciÃ³n inmediata
```

### Caso 2: Equipo Fuera de Servicio
```
1. Usuario cambia estado de equipo a "Critico"
2. Sistema envÃ­a correo a admin y jefatura
3. Se genera ticket automÃ¡tico si es necesario
4. Se planifica mantenimiento correctivo urgente
```

---

## ğŸ¯ Beneficios del Sistema de Notificaciones

âœ… **Respuesta rÃ¡pida** a situaciones crÃ­ticas  
âœ… **ComunicaciÃ³n automÃ¡tica** sin intervenciÃ³n manual  
âœ… **Trazabilidad completa** de alertas enviadas  
âœ… **ReducciÃ³n de tiempos de respuesta** ante fallas  
âœ… **Mejora en la gestiÃ³n** de equipos crÃ­ticos  
âœ… **Cumplimiento de protocolos** de calidad  

---

## ğŸ“§ PersonalizaciÃ³n

Para personalizar los templates de correo, edite el archivo:
```
src/main/java/usac/eps/servicios/mantenimientos/EmailService.java
```

MÃ©todos a modificar:
- `generarHtmlTicketCritico()` - Template para tickets crÃ­ticos
- `generarHtmlEquipoCritico()` - Template para equipos crÃ­ticos

---

## ğŸ” Seguridad y Privacidad

- âœ… Los correos **NO contienen informaciÃ³n sensible** como contraseÃ±as
- âœ… Solo se envÃ­an a **destinatarios autorizados** configurados
- âœ… La conexiÃ³n SMTP usa **cifrado TLS/SSL**
- âœ… Las credenciales se almacenan en **archivo de configuraciÃ³n protegido**
- âœ… Los logs **no registran contraseÃ±as** de correo

---

## ğŸ“ Contacto

Para modificar destinatarios o agregar nuevas notificaciones, contacte al equipo de desarrollo.
